<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <title>ì½”ë“œë°”ëŒ ì‹œë„¤ë§ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">

    <style>
        * {
            font-family: 'Gowun Dodum', sans-serif;
        }

        .title {
            background-color: green;

            width: 100%;
            height: 250px;


            background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url("http://res.heraldm.com/content/image/2018/05/20/20180520000224_0.jpg");
            background-position: center;
            background-size: cover;

            color: black;

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .home {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: black;
            border: 2px solid #ffffff;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 25px;
            margin: 4px 2px;
            cursor: pointer;
        }

        .mycards {
            background-color: white;
            margin-top: 20px;
            padding: 10px;
        }

        .card-img-top {
            height: 300px;
            object-fit: cover;
        }

        .write {
            position: absolute;
            top: 150px;
            left: 90%;
            background-color: black;
            border: 2px solid #ffffff;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 25px;
            margin: 4px 2px;
            cursor: pointer;
        }

        .comment_box {
            display: none;
        }
        .mycomment{
            display: none;
        }
        .card{
            margin-right: 10px;
        }
        .mycomment_son{
            display: flex;
            flex-direction: row;
            justify-content: start;
            align-items: center;
        }
        .input_box{
            width: 300px;
        }
        .btn_box > button{
            margin: 7px 5px 5px 0px;
        }
        .comment_btns{
            width: 200px;

            margin-top: 10px;
        }
        .comment_warp{
            width: 500px;

            margin: auto;
        }
        .badge {
            background-color: sandybrown;

            padding: 3px 3px 3px 3px;

            text-align: center;
            font-size: 10px;
        }
    </style>
    <script>

        $(document).ready(function () {
            listing();
        });
        function open_box() {
            $('#box').show()
        }

        function close_box() {
            $('#box').hide()
        }
        // â†“ ì•Œë°” ëª…ë‹¨ ê°€ì ¸ì˜¤ê¸°  //
        function listing() {
            $.ajax({
                type: 'GET',
                url: '/movie',
                data: {},
                success: function (response) {
                    let rows = response['moviedb']
                    for (let i = 0; i < rows.length; i++) {
                        let name = rows[i]['name']
                        let age = rows[i]['age']
                        let mbti = rows[i]['mbti']
                        let imgurl = rows[i]['imgurl']
                        let hobby = rows[i]['hobby']
                        let recommendmovie = rows[i]['recommendmovie']
                        let goal = rows[i]['goal']
                        let tmi = rows[i]['tmi']
                        let num = rows[i]['num']
                        let temp_html = `<div class="col">
                                            <div class="card h-100">
                                                <img src="${imgurl}"
                                                    class="card-img-top">
                                                <div class="card-body">
                                                    <h5 class="card-name">${name}<p class="badge">ì•Œë°”</p></h5>
                                                    <p class="card-age">${age}</p>
                                                    <p class="card-mbti">${mbti}</p>
                                                    <p class="card-hobby">${hobby}</p>
                                                    <p class="card-recommendmovie">${recommendmovie}</p>
                                                    <p class="card-goal">${goal}</p>
                                                    <p class="card-tmi">${tmi}</p>
                                                </div>
                                            </div>
                                        </div>`
                        $('#cards-box').append(temp_html)
                    }
                }
            })
        }
        // â†“ ëŒ“ê¸€ ì‘ì„±  //
        function savecomment() {
            let name = $('#name').val()
            let comment = $('#comment').val()
            $.ajax({
                type: 'POST',
                url: '/savecomment',
                data: { name_give: name, comment_give: comment},
                success: function (response) {
                    alert(response['msg'])
                    window.location.reload()
                }
            });
        }

        $(document).ready(function () {
            show_all()
        });

        function show_all() {
            $('#mycomment_son').empty()
            $.ajax({
                type: "GET",
                url: "/show_comment",
                data: {},
                success: function (response) {
                    let rows = response['show']
                    for (let i = 0; i < rows.length; i++) {
                        let name = rows[i]['name']
                        let comment = rows[i]['comment']
                        let temp_html = `<div class="card">
                                            <div class="card-body">
                                                <blockquote class="blockquote mb-0">
                                                    <p>${comment}</p>
                                                    <footer class="blockquote-footer">${name}</footer>
                                                </blockquote>
                                            </div>
                                        </div>`
                        $('#mycomment_son').append(temp_html)
                    }
                }
            })
        }
        function open_comment(){
            $('#mycomment').show()
        }
        function close_comment(){
            $('#mycomment').hide()
        }


    </script>
</head>

<body>
    <div class="title">
        <h1>ì•Œë°” ëª…ë‹¨ğŸ‘¯â€â™€ï¸</h1>
        <button onclick="location.href='/'" class="home">HOME</button>
        <button class="write"
            onclick="window.open('/bang', 'window_name', 'width=430, height=500, location=no, status=no, scrollbars=yes');">ë°©ëª…ë¡</button>
    </div>

    <div class="mycards">
    <div class="row row-cols-1 row-cols-md-5 g-5">
        <div class="col">
        <div class="card h-100">
            <img src="https://r2.jjalbot.com/2023/03/0DNrb_sSPV.jpeg"
                 class="card-img-top">
            <div class="card-body">
                <h5 class="card-name">ì •ì¬ì¤€<p class="badge">ë§¤ë‹ˆì €</p></h5>
                <p class="card-age">29</p>
                <p class="card-mbti">ISFJ</p>
                <p class="card-hobby">ê²Œì„, ìš´ë™, ì˜í™”, ë¬´í•œë„ì „ ë³´ê¸°</p>
                <p class="card-recommendmovie">ì–‘ë“¤ì˜ ì¹¨ë¬µ</p>
                <p class="card-goal">ê²½ì œì  ë…ë¦½</p>
                <p class="card-tmi">í”ŒìŠ¤ ê²Œì„ ì¢‹ì•„í•¨.</p>
            </div>
        </div>
    </div>
        <div class="col">
            <div class="card h-100">
                <img src="https://yt3.googleusercontent.com/C7bTHnoo1S_MRbJXn4VwncNpB87C2aioJC_sKvgM-CGw_xgdxwiz0EFEqzj0SRVz6An2h81T4Q=s900-c-k-c0x00ffffff-no-rj"
                     class="card-img-top">
                <div class="card-body">
                    <h5 class="card-name">ê¹€ê´‘ìš´<p class="badge">ë§¤ë‹ˆì €</p></h5>
                    <p class="card-age">25</p>
                    <p class="card-mbti">INTJ</p>
                    <p class="card-hobby">ê²Œì„í•˜ê¸°, íƒêµ¬, ì˜í™”ë³´ê¸°</p>
                    <p class="card-recommendmovie">ì¸ì…‰ì…˜, ìœ„í”Œë˜ì‰¬</p>
                    <p class="card-goal">ì¸ìƒì„ ë‚ ë¡œë¨¹ê¸°</p>
                    <p class="card-tmi">ì¹¨íˆ¬ë¶€ ë§ê´€ë¶€, ê¸°íƒ€ ë°°ìš°ê¸° 1ì¼ì°¨</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card h-100">
                <img src="https://media.istockphoto.com/id/1321078344/ko/%EB%B2%A1%ED%84%B0/%EB%82%A8%EC%84%B1-%EC%B9%98%EA%B3%BC-%EC%9D%98%EC%82%AC%EC%9D%98-%EA%B7%B8%EB%A6%BC-%EB%82%A8%EC%9E%90%EB%8A%94-%EA%B0%90%EC%97%BC%EC%9D%84-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%B4-%EC%96%BC%EA%B5%B4-%EB%B0%A9%ED%8C%A8%EB%A5%BC-%EC%B0%A9%EC%9A%A9.jpg?s=612x612&w=0&k=20&c=698MT7FwhRyT081IcjchvSpyU5IfaoQUWFYPF-1QmnE="
                     class="card-img-top">
                <div class="card-body">
                    <h5 class="card-name">ì´í˜„ì‹<p class="badge">ë§¤ë‹ˆì €</p></h5>
                    <p class="card-age">31</p>
                    <p class="card-mbti">ISFP</p>
                    <p class="card-hobby">ì˜í™” ë³´ê¸°, ê²Œì„ í•˜ê¸°, ë“œë¼ë§ˆ ë³´ê¸°</p>
                    <p class="card-recommendmovie">ë°”ëŒ</p>
                    <p class="card-goal">í•˜ê³ ì‹¶ì€ëŒ€ë¡œ í•˜ê³  ì‚´ì</p>
                    <p class="card-tmi">ì „ì§ ì¹˜ê³¼ìœ„ìƒì‚¬</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card h-100">
                <img src="http://image.dongascience.com/Photo/2018/01/15160802935648[1].jpg"
                     class="card-img-top">
                <div class="card-body">
                    <h5 class="card-name">ë°•ì§„ì‹<p class="badge">ë§¤ë‹ˆì €</p></h5>
                    <p class="card-age">26</p>
                    <p class="card-mbti">ISTP</p>
                    <p class="card-hobby">ìˆ , ì‚°ì±…</p>
                    <p class="card-recommendmovie">ì–´ë²¤ì ¸ìŠ¤ ì—”ë“œê²Œì„</p>
                    <p class="card-goal">ê°œë°œìë¡œ ì·¨ì—…í•˜ê¸°</p>
                    <p class="card-tmi">ë§¥ì£¼ ë§ˆì‹œë©´ì„œ ì•¼ì‹ ìì£¼ ë¨¹ìŒ</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card h-100">
                <img src="https://image.newsis.com/2022/10/13/NISI20221013_0019350957_web.jpg"
                     class="card-img-top">
                <div class="card-body">
                    <h5 class="card-name">ì´ì°¬ì£¼<p class="badge">ë§¤ë‹ˆì €</p></h5>
                    <p class="card-age">26</p>
                    <p class="card-mbti">ISTP</p>
                    <p class="card-hobby">ë„·í”Œë¦­ìŠ¤, ë“œë¼ë§ˆ, ì˜í™”ë³´ê¸°</p>
                    <p class="card-recommendmovie">ì†Œìš¸ë©”ì´íŠ¸</p>
                    <p class="card-goal">ì˜¬í•´ëŠ” ê°œë°œìë¡œ ì·¨ì—…í•˜ì~</p>
                    <p class="card-tmi">ì˜êµ­ì¶•êµ¬ í† íŠ¸ë„˜ íŒ¬ì…ë‹ˆë‹¤ ê°™ì´ ì‘ì›í•´ìš”!</p>
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="comment_warp">
     <button onclick="open_box('#box')" class="btn btn-secondary" id="show-button">ì½”ë©˜íŠ¸ ì‘ì„±í•˜ê¸°</button>
    <div class="comment_btns">
        <button onclick="open_comment()">ì½”ë©˜íŠ¸ ë³´ê¸°</button>
        <button onclick="close_comment()">ì½”ë©˜íŠ¸ ë‹«ê¸°</button>
    </div>
    <div class="comment_box" id="box">
        <div class="input_box">
            <div class="input-group mt-3">
                <input type="text" class="form-control" placeholder="ë‹‰ë„¤ì„"
                       id="name">
            </div>
            <div class="input-group mt-3">
                <input type="text" class="form-control" placeholder="ì½”ë©˜íŠ¸"
                       id="comment">
            </div>
        </div>
        <div class="btn_box">
            <button onclick="savecomment()" class="btn btn-primary" id="save-button">ì½”ë©˜íŠ¸ ë‚¨ê¸°ê¸°</button>
            <button onclick="close_box('#box')" class="btn btn-secondary" id="show-button">ë‹«ê¸°</button>
        </div>

        <div class="mt-3" id="comments-section">
        </div>
    </div>
    </div>

    <div id="mycomment" class="mycomment">
        <div id="mycomment_son" class="mycomment_son">
        </div>
    </div>

    <div class="mycards">
        <div class="row row-cols-1 row-cols-md-5 g-5" id="cards-box">
        </div>
        </div>

</body>

</html>